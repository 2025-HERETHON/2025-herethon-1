{% load static %}
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{% static 'css/ArticleHome.css' %}" />
    <link rel="stylesheet" href="{% static 'css/HF.css' %}" />
    <title>아티클 홈</title>
  </head>

  <body>
    <header>
      <div class="gnb">
      <div class="logo"><a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" width="98" height="24" viewBox="0 0 98 24" fill="none">
  <path d="M85.0554 23.9984C76.5099 23.9984 72.1108 18.4765 72.1108 12.1147C72.1108 6.40377 76.2784 0 85.0554 0C93.8324 0 97.9999 6.40377 97.9999 12.1147C97.9999 18.4765 93.6009 23.9984 85.0554 23.9984ZM85.0554 18.2245C88.4862 18.2245 91.1593 15.705 91.1593 12.0097C91.1593 8.31441 88.7598 5.79489 85.0554 5.79489C81.3509 5.79489 78.9514 8.3774 78.9514 12.0097C78.9514 15.642 81.6246 18.2245 85.0554 18.2245Z" fill="#AD97F6"/>
  <path d="M24.0158 0.0405237L12.0184 12.0082L0 23.9969H12.0184L24.0158 12.0292V12.0082H24.0369V0.0195312L24.0158 0.0405237Z" fill="#AD97F6"/>
  <path d="M36.0555 0.0195312H24.0371V12.0082L30.0568 6.02437L36.0555 0.0195312Z" fill="#AD97F6"/>
  <path d="M18.0386 23.997H24.0373V17.9922L18.0386 23.997Z" fill="#AD97F6"/>
  <path d="M42.0539 12.0292V12.0082H42.0749V0.0195312L42.0539 0.0405237L36.0552 6.00338V17.9921L42.0539 12.0292Z" fill="#AD97F6"/>
  <path d="M36.0555 6.00391L30.0568 12.0088L24.0371 17.9926V23.9975H30.0568L36.0555 17.9926V6.00391Z" fill="#AD97F6"/>
  <path d="M42.0752 12.0082L48.0949 6.02437L54.0936 0.0195312H42.0752V12.0082Z" fill="#AD97F6"/>
  <path d="M60.0714 0.0405237L54.0938 6.00338V17.9921L60.0714 12.0292V12.0082H60.0924V0.0195312L60.0714 0.0405237Z" fill="#AD97F6"/>
  <path d="M36.0552 23.997H42.0749V17.9922L36.0552 23.997Z" fill="#AD97F6"/>
  <path d="M48.0739 12.0088L42.0752 17.9926V23.9975H48.0739L54.0936 17.9926V6.00391L48.0739 12.0088Z" fill="#AD97F6"/>
  <path d="M66.112 6.02437L72.1107 0.0195312H60.0923V12.0082L66.112 6.02437Z" fill="#AD97F6"/>
</svg>
</a>
      </div>
      <div class="menu">
         <a href="{% url 'articles:home' %}">아티클</a>
         <a href="{% url 'community:home' %}">커뮤니티</a>
         <a href="{% url 'proposals:home' %}">정책 제안</a>
        {% if user.is_authenticated %}
         <a href="{% url 'scraps:scraps_article' %}">스크랩</a>
         {% endif %}
      </div>
      <div class="login">
         {% if user.is_authenticated %}
         <a href="{% url 'accounts:logout' %}" class="auth-links">로그아웃</a>
         {% else %}
         <a href="{% url 'accounts:login' %}" class="auth-links">로그인/회원가입</a>
         {% endif %}
      </div>
    </div>
  </header>
    
  <div class="AH-wrap">
    <main id="AH-container">
      <div class="AH-page">아티클</div>
      <div class="AH-sort-div">
        {% if request.GET.sort == 'popular' or not request.GET.sort %}
        <div class="AH-popular active">인기순</div>
        {% else %}
        <a class="AH-popular" href="?sort=popular">인기순</a>
        {% endif %} {% if request.GET.sort == 'recent' %}
        <div class="AH-latest active">최신순</div>
        {% else %}
        <a class="AH-latest" href="?sort=recent">최신순</a>
        {% endif %}
      </div>

      <section class="article-list">
        {% for article in articles %}
        <a href="{% url 'articles:detail' article.id %}" class="article-item">
          <div class="article-info">
            <div class="AH-date">{{ article.created_at|date:"Y.m.d" }}</div>
            <p class="AH-titile">{{ article.title }}</h2>
            <p class="summary">
              {{ article.sections.first.text|truncatechars:100 }}
            </p>
            <div class="article-meta">
              <div class="AH-likeicon">
                <svg
                  width="21"
                  height="20"
                  viewBox="0 0 21 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <mask
                    id="mask0_892_1040"
                    style="mask-type: alpha"
                    maskUnits="userSpaceOnUse"
                    x="0"
                    y="0"
                    width="21"
                    height="20"
                  >
                    <rect x="0.829102" width="20" height="20" fill="#D9D9D9" />
                  </mask>
                  <g mask="url(#mask0_892_1040)">
                    <path
                      d="M17.4186 7.16777C17.8012 7.16777 18.1391 7.3145 18.4325 7.60796C18.7259 7.90128 18.8726 8.23925 18.8726 8.62186V9.9211C18.8726 10.0056 18.8618 10.0961 18.8401 10.1926C18.8185 10.289 18.7943 10.379 18.7675 10.4626L16.4622 15.9021C16.347 16.1594 16.1538 16.3767 15.8826 16.5541C15.6114 16.7314 15.3284 16.8201 15.0336 16.8201H6.57515V7.16777L11.2543 2.52882C11.4143 2.36902 11.5994 2.27363 11.8097 2.24266C12.0201 2.2117 12.2216 2.24776 12.4144 2.35085C12.6073 2.45408 12.7486 2.60054 12.8383 2.79023C12.928 2.97993 12.9471 3.17639 12.8956 3.37963L12.0293 7.16777H17.4186ZM7.78169 7.68136V15.6136H15.0364C15.0931 15.6136 15.1511 15.5981 15.2104 15.5671C15.2698 15.5362 15.3149 15.4846 15.3459 15.4125L17.6661 9.98304V8.62186C17.6661 8.5496 17.6429 8.49028 17.5965 8.44389C17.5501 8.39751 17.4908 8.37431 17.4186 8.37431H10.5043L11.5127 3.96581L7.78169 7.68136ZM4.23949 16.8201C3.83958 16.8201 3.49726 16.6777 3.21252 16.393C2.92777 16.1083 2.7854 15.7659 2.7854 15.366V8.62186C2.7854 8.22195 2.92777 7.87963 3.21252 7.59489C3.49726 7.31014 3.83958 7.16777 4.23949 7.16777H6.57515V8.37431H4.23949C4.16723 8.37431 4.10791 8.39751 4.06152 8.44389C4.01514 8.49028 3.99194 8.5496 3.99194 8.62186V15.366C3.99194 15.4383 4.01514 15.4976 4.06152 15.544C4.10791 15.5904 4.16723 15.6136 4.23949 15.6136H6.57515V16.8201H4.23949Z"
                      fill="#A3A3A3"
                    />
                  </g>
                </svg>
              </div>
              {{ article.liked.count }}
              <div class="AH-commenticon">
                <svg
                  width="21"
                  height="20"
                  viewBox="0 0 21 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <mask
                    id="mask0_571_11431"
                    style="mask-type: alpha"
                    maskUnits="userSpaceOnUse"
                    x="0"
                    y="0"
                    width="21"
                    height="20"
                  >
                    <rect x="0.829102" width="20" height="20" fill="#D9D9D9" />
                  </mask>
                  <g mask="url(#mask0_571_11431)">
                    <path
                      d="M6.028 14.9998L4.41815 16.5732C4.18938 16.797 3.92623 16.8477 3.6287 16.7253C3.33131 16.6028 3.18262 16.3823 3.18262 16.0639V4.6304C3.18262 4.23333 3.32334 3.89724 3.60478 3.62213C3.88622 3.34703 4.23005 3.20947 4.63627 3.20947H17.0073C17.4135 3.20947 17.7573 3.34703 18.0388 3.62213C18.3202 3.89724 18.4609 4.23333 18.4609 4.6304V13.5789C18.4609 13.9759 18.3202 14.312 18.0388 14.5871C17.7573 14.8622 17.4135 14.9998 17.0073 14.9998H6.028ZM5.51457 13.8208H17.0073C17.0692 13.8208 17.1259 13.7956 17.1774 13.7451C17.229 13.6948 17.2548 13.6394 17.2548 13.5789V4.6304C17.2548 4.56988 17.229 4.51447 17.1774 4.46416C17.1259 4.41372 17.0692 4.38851 17.0073 4.38851H4.63627C4.57435 4.38851 4.51766 4.41372 4.4662 4.46416C4.4146 4.51447 4.3888 4.56988 4.3888 4.6304V14.9092L5.51457 13.8208Z"
                      fill="#A3A3A3"
                    />
                  </g>
                </svg>
              </div>
              {{ article.article_comments.count }}
            </div>
          </div>

          {% if article.image %}
          <img
            src="{{ article.image.url }}"
            alt="썸네일"
            class="article-thumbnail"
          />
          {% else %}
          <div class="article-thumbnail"></div>
          {% endif %}
        </a>
        {% empty %}
        <p class="none">아직 등록된 아티클이 없습니다.</p>
        {% endfor %}
      </section>
    </main>
    </div>
    <div id="footer"></div>
    <script src="{% static 'js/HF.js' %}"></script>
  </body>
</html>
